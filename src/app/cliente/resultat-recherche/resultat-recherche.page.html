<ion-content>
  <div class="space-y-5">
    <div class="flex flex-row justify-start items-center pt-5 text-gray-600">
      <ion-button (click)="myBackButton()" color="danger" fill="clear">
        <img src="assets/icon/back.svg" alt="" srcset="" class="w-10 h-10" />
      </ion-button>
      <div class="text-2xl font-bold text-center whitespace-nowrap">
        résultats de la recherche
      </div>
    </div>
    <div class="flex flex-row justify-between space-x-2 px-5">
      <div
        class="
          bg-tertiary
          flex flex-row
          items-center
          justify-between
          rounded-md
          px-2
          space-x-2
          p
        "
      >
        <ion-select
          (ionChange)="filterVille($event)"
          interface="popover"
          placeholder="{{ville.nom|titlecase}}"
        >
          <ion-select-option [value]="item" *ngFor="let item of villes"
            >{{item.nom}}</ion-select-option
          >
        </ion-select>
        <div class=""></div>
        <!-- <div class="pl-2">
          <img src="assets/icon/arrow_empty.svg" alt="" />
        </div> -->
      </div>
      <div
        class="
          bg-tertiary
          flex flex-row
          items-center
          justify-between
          rounded-md
          px-2
          space-x-2
          py-
        "
      >
        <div class="">
          <img src="assets/icon/calendar.svg" alt="" />
        </div>
        <ion-datetime
          displayFormat="DD/MM/YYYY"
          min="1994-03-14"
          max="2035-12-09"
          value="{{date}}"
          [(ngModel)]="date"
          (ionChange)="filter($event)"
        ></ion-datetime>
      </div>
    </div>
    <div class="px-5 space-y-5" *ngIf="research.length!==0">
      <div
        class="
          border-2
          grid-cols-2 grid
          gap-2
          px-2
          py-2
          rounded-md
          text-gray-500
        "
        *ngFor="let item of research"
      >
        <div class="h-2/5">
          <img
            class="w-5/6 rounded-lg"
            [src]="item.uid.imageURL === 'default.png'? 'assets/default.png': 'https://firebasestorage.googleapis.com/v0/b/bigoodee-79097.appspot.com/o/profile%2F'+item.uid.imageURL.split('/')[1]+'?alt=media&token=4f39ff84-15a9-4f1d-8e9a-fcc5541147bd'"
            alt=""
          />
        </div>
        <div class="flex flex-col space-y-4 py-2">
          <div class="flex flex-row justify-between items-center">
            <div class="font-bold text-lg">{{item.uid.prenom|titlecase}}</div>
            <div
              class="
                bg-secondary-op
                whitespace-nowrap
                text-center text-secondary text-xl
                px-3
                py-1
                font-bold
                rounded-md
              "
            >
              {{item.tarif}} €
            </div>
          </div>
          <div class="flex flex-row justify-between text-sm">
            <div class="flex flex-row justify-between items-center">
              <div class="">
                <img
                  class="w-4 pr-1"
                  src="assets/icon/localisation.svg"
                  alt=""
                />
              </div>
              <div class="">{{item.uid.ville|titlecase}}</div>
            </div>
            <div class="w-8">
              <img
                class="w-10"
                src="assets/icon/icon1.svg"
                alt=""
                class="w-full"
              />
            </div>
          </div>
          <div class="flex flex-row justify-between text-sm">
            <div class="whitespace-nowrap">3 avis (4.3/5)</div>
            <div class="w-8">
              <img
                class="w-10"
                src="assets/icon/icon2.svg"
                alt=""
                class="w-full"
              />
            </div>
          </div>
        </div>
        <div
          class="bg-primary rounded-md flex justify-center"
          [routerLink]="'/cliente/acceuil/profil-hotesse/' + item.uid._id"
        >
          <button class="text-white py-2">Voir le profil</button>
        </div>
        <div
          class="
            bg-white
            rounded-md
            border-2 border-primary
            flex
            justify-center
          "
          [routerLink]="'/cliente/message/'+item.uid._id"
        >
          <button class="text-primary py-2">Contactez-la</button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="
      flex flex-col
      items-center
      justify-center
      space-y-8
      text-gray-500
      pt-7
      px-5
    "
    *ngIf="research.length===0"
  >
    <div><img src="assets/icon/404.svg" alt="" /></div>
    <div class="text-center">Aucun résultat trouvé pour cette recherche</div>

    <div>
      <button
        class="
          bg-primary
          text-white
          font-bold
          py-2
          w-full
          text-center
          rounded-md
          px-12
          uppercase
          text-lg
        "
        routerLink="/cliente/acceuil"
      >
        revenir à la recherche
      </button>
    </div>
  </div>
</ion-content>
