<ion-content>
  <div class="flex flex-row items-center mt-5 mb-5 text-gray-600">
    <ion-button (click)="myBackButton()" fill="clear">
      <img src="assets/icon/back.svg" alt="" srcset="" />
    </ion-button>
    <h1 class="text-2xl font-bold flex text-center">
      Mes coiffeuses préférées
    </h1>
  </div>
  <ion-item>
    <div class="flex w-full flex-row items-center justify-between my-5 pr-5">
      <div class="flex flex-row space-x-2">
        <div class="rounded-md">
          <img
            [src]="user.imageURL === 'default.png'? 'assets/default.png': 'https://firebasestorage.googleapis.com/v0/b/bigoodee-79097.appspot.com/o/profile%2F'+user.imageURL.split('/')[1]+'?alt=media&token=4f39ff84-15a9-4f1d-8e9a-fcc5541147bd'"
            alt=""
            class="w-20 h-20"
          />
        </div>
        <div class="flex flex-col justify-between">
          <div class="">{{user.prenom}}</div>
          <div class="flex flex-row space-x-2 items-center">
            <div class="">
              <img src="assets/icon/localisation.svg" alt="" />
            </div>
            <div class="">{{user.ville}}</div>
          </div>
        </div>
      </div>
      <ion-button
        fill="clear"
        class="bg-primary-op flex justify-center h-10 rounded-md"
        routerLink="../../../message"
      >
        <img src="assets/icon/sms_pink.svg" alt="" />
      </ion-button>
    </div>
  </ion-item>
  <div class="border-t-2 border-primary mb-5"></div>
  <div class="space-y-5 px-5 mb-10">
    <ion-segment
      (ionChange)="segmentChanged($event)"
      color="danger"
      [value]="segment"
      mode="ios"
      class=""
    >
      <ion-segment-button class="py-3 rounded-l-lg" value="prestations">
        <ion-label>prestations</ion-label>
      </ion-segment-button>

      <ion-segment-button value="disponibilites">
        <ion-label>DISPONIBILITÉS</ion-label>
      </ion-segment-button>
    </ion-segment>
    <div class="" *ngIf="segment === 'prestations'">
      <!-- <ion-card class="shadow-none border-2 h-14 py-3" *ngFor="let item of items">
        <div class="flex flex-row justify-between items-center px-5">
          <div class="flex flex-row space-x-2 items-center">
            <div class="">
              <img src="assets/icon/outil.svg" alt="" class="">
            </div>
            <div class="text-lg">{{item.title}}</div>
          </div>
          <div class="">
            <img src="assets/icon/check.svg" alt="" class="">
          </div>
          <div class="">
            <img src="assets/icon/checkbox.svg" alt="" class="">
          </div>
        </div>
      </ion-card> -->
      <div class="space-y-3">
        <div class="px-" *ngFor="let item of items">
          <ion-card
            button="true"
            class="rounded-lg m-0 p-0 border border-gray-300 shadow-sm"
            (click)="check(); item.prestation.checked = !item.prestation.checked"
          >
            <div
              class="flex flex-row justify-between items-center px-4 py-3 rounded-lg"
            >
              <div class="flex flex-row gap-2 items-center">
                <img src="assets/icon/prestations.svg" alt="" />
                <div class="text-lg">
                  {{item.prestation.prestation| titlecase}}
                </div>
              </div>
              <div>
                <img
                  [src]="item.prestation.checked ? 'assets/icon/check.svg' : 'assets/icon/uncheck.svg'"
                  alt=""
                  srcset=""
                />
              </div>
            </div>
          </ion-card>
          <!-- <div class="flex flex-col gap-4 pt-5" *ngIf="item.checked">
        <ion-card
          button="true"
          class="
            rounded-lg
            m-0
            p-0
            border border-gray-300
            shadow-sm
            bg-gray-200
          "
          *ngFor="let test of item.sub"
          (click)="arrayOption2(item, test)"
        >
          <div
            class="
              flex flex-row
              justify-between
              items-center
              px-4
              py-2
              rounded-lg
            "
          >
            <div class="flex flex-row gap-4 items-center">
              <div class="text-lg">{{test.title | titlecase}}</div>
            </div>
            <div>
              <img
                [src]="test.checked ? 'assets/icon/check1.svg' : 'assets/icon/uncheck1.svg'"
                alt=""
                srcset=""
              />
            </div>
          </div>
        </ion-card>
      </div> -->
        </div>
      </div>

      <ion-button
        fill="clear"
        expand="block"
        class="bg-primary text-white uppercase rounded-md"
        >reserver cette prestation</ion-button
      >
    </div>
    <div class="" *ngIf="segment === 'disponibilites'">
      <div class="text-gray-500">
        <div>
          <ion-slides pager="false" [options]="slideOpts" class="text-gray-500">
            <ion-slide
              *ngFor="let item of months"
              (click)="onClick(item); item.checked = true"
            >
              <div
                class="border border-gray-500 px-3 py-1 rounded-md"
                [ngClass]="item.checked? 'bg-primary text-white border-primary':''"
              >
                {{item.month}}
              </div>
            </ion-slide>
          </ion-slides>
        </div>
        <div class="mt-10">
          <ion-slides
            pager="false"
            [options]="slideOpts2"
            class="text-gray-500"
          >
            <ion-slide *ngFor="let item of days" (click)="onClickDay(item)">
              <div class="border-gray-500 px-3 py-1 rounded-full">{{item}}</div>
            </ion-slide>
          </ion-slides>
        </div>
        <div>
          <div>Les créneaux</div>
        </div>

        <div>
          <div class="my-3" *ngFor="let item of dispo">
            <ion-card
              button="true"
              class="rounded-lg m-0 p-0 border border-gray-300 shadow-sm"
              (click)="checkC(); item.prestation.checked = !item.prestation.checked"
            >
              <div
                class="flex flex-row justify-between items-center px-4 py-3 rounded-lg"
              >
                <div class="flex flex-row gap-2 items-center">
                  <img src="assets/icon/prestations.svg" alt="" />
                  <div class="text-lg">{{item.plage.plage}}</div>
                </div>
                <div>
                  <img
                    [src]="item.plage.checked ? 'assets/icon/check.svg' : 'assets/icon/uncheck.svg'"
                    alt=""
                    srcset=""
                  />
                </div>
              </div>
            </ion-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>
